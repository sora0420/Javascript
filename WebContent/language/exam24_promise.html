<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
	integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l"
	crossorigin="anonymous">
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns"
	crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
	integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
	crossorigin="anonymous"></script>
<script
	src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
	integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
	crossorigin="anonymous"></script>
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js"
	integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF"
	crossorigin="anonymous"></script>
<script>  //동기 : 응답을 기다렸다가 실행 / 비동기 : 응답이 올때까지 기다리지 않고 실행
	const fun1 = () => {
 		//방법2
 		fun2()
 			.then(() => {
 				console.log("작업1이 성공했을 때 실행");
 				return fun3(); //리턴값이 프라미스니까 성공적으로 실행됐을때해서 한번더 작성 가능
 			})
 			.then(() => {
 				console.log("작업2가 성공했을 때 실행")
 			}) //return넣으면 then한번 더 작성 가능 / 위에참고
 			.catch(() => console.log("작업이 실패했을 때 실행")) //catch 작업1 또는 작업2가 실패햇을경우 이쪽으로 옴
 			.finally(()=> console.log("작업이 성공 또는 실패했을 때 마무리 작업 실행"));
	};
	
	const fun2 = () => {
	 	 return new Promise((resolve, reject) => {
	 		 console.log("시간을 요하는 작업...");
	 		 var result = false;
	 		 if(result){
	 			 resolve(); //success callback
	 		 }else{
	 			 reject(); //failure callback
	 		 }
	 	 });
	};
	
	const fun3 = () => {
	 	 return new Promise((resolve, reject) => {
	 		 console.log("시간을 요하는 작업...");
	 		 var result = true;
	 		 if(result){
	 			 resolve(); //success callback
	 		 }else{
	 			 reject(); //failure callback
	 		 }
	 	 });
	};
</script>
</head>
<body>
	<div class="card">
		<div class="card-header">동기화 이해하기</div>
		<div class="card-body">
			<button onclick="fun1()" class="btn btn-danger btn-sm">함수 호출</button>
		</div>
	</div>
</body>
</html>